(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{279:function(s,n,e){"use strict";e.r(n);var a=e(13),t=Object(a.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"webpack打包vue3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack打包vue3"}},[s._v("#")]),s._v(" webpack打包vue3")]),s._v(" "),n("p",[s._v("我们用webpack5+pnpm来打包vue3")]),s._v(" "),n("h2",{attrs:{id:"一、项目目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、项目目录"}},[s._v("#")]),s._v(" 一、项目目录")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("- scripts\n  - webpack.config.dev.js\n  - webpack.config.base.js\n  - webpack.config.prod.js\n- src\n- babel.config.js\n- package.json\n- pnpm-lock.yaml\n- tsconfig.json\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("PS：因为我们一个项目肯定会分成开发和发布，所以我们将webpack.config.base.js配置拆分成prod和dev版本的配置，公有配置都放置于webpack.config.base.js。")]),s._v(" "),n("h2",{attrs:{id:"二、详细配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二、详细配置"}},[s._v("#")]),s._v(" 二、详细配置")]),s._v(" "),n("h3",{attrs:{id:"_1-开发时"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-开发时"}},[s._v("#")]),s._v(" 1.开发时")]),s._v(" "),n("p",[n("code",[s._v("webpack.config.dev.js")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const HtmlWebpackPlugin = require('html-webpack-plugin');\nmodule.exports = {\n  mode: 'development',\n  devServer: {\n    port: 3000,\n    compress: true,\n    hot: true,\n  },\n  cache: {\n    type: 'filesystem',\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: './src/index.html',\n    }),\n  ],\n};\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h3",{attrs:{id:"_2-打包时"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-打包时"}},[s._v("#")]),s._v(" 2.打包时")]),s._v(" "),n("p",[n("code",[s._v("webpack.config.prod.js")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  mode: 'production',\n  plugins: [\n    new HtmlWebpackPlugin({\n      //创建插件的实例对象\n      template: './src/index.html', //指定要用到的模板文件，会自动引入打包后的资源\n      filename: 'index.html', //指定生成的文件的名称，该文件存在于内存中，在目录中不显示\n      minify: {\n        //可以减少打包后html一些体积的操作\n        removeAttributeQuotes: true, //是否去掉html里面的可以去掉的双引号\n        collapseWhitespace: true, //移除空格，生成的html变成一行\n        removeComments: true, //移除注释\n      },\n      hash: true, //生成的html里面引入的入口文件是否有hash戳eg：bandle.js?hash戳\n    }),\n  ],\n};\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h3",{attrs:{id:"_3-基础配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-基础配置"}},[s._v("#")]),s._v(" 3.基础配置")]),s._v(" "),n("p",[n("code",[s._v("webpack.config.base.js")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const path = require('path');\nconst { merge } = require('webpack-merge');\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\nconst OptimizeCssAssetsWebpackPlugin = require('optimize-css-assets-webpack-plugin');\nconst WebpackBar = require('webpackbar');\nconst ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\nconst { VueLoaderPlugin } = require('vue-loader');\nconst prodWebpackConfig = require('./webpack.config.prod');\nconst devWebpackConfig = require('./webpack.config.dev');\n\nconst mergeConfig =\n  process.env.NODE_ENV === 'production' ? prodWebpackConfig : devWebpackConfig;\nmodule.exports = merge(\n  {\n    entry: path.join(__dirname, '../src/main.ts'),\n    output: {\n      path: path.join(__dirname, '../dist'),\n      filename: './js/[name].[contenthash:5].js',\n    },\n    module: {\n      rules: [\n        {\n          test: /\\.js$/,\n          exclude: [/node_modules/],\n          use: [\n            {\n              loader: 'babel-loader',\n            },\n          ],\n        },\n        {\n          test: /\\.(ts|tsx)$/,\n          exclude: /node_modules/,\n          use: [\n            'babel-loader',\n            {\n              loader: 'ts-loader',\n              options: {\n                transpileOnly: true,\n                happyPackMode: false,\n                appendTsSuffixTo: [/\\.vue$/],\n              },\n            },\n          ],\n        },\n        {\n          test: /\\.vue$/,\n          exclude: /node_modules/,\n          loader: 'vue-loader',\n        },\n        {\n          test: /\\.css$/,\n          use: [\n            MiniCssExtractPlugin.loader,\n            {\n              loader: 'css-loader',\n              options: {\n                modules: true,\n              },\n            },\n          ],\n        },\n        {\n          test: /\\.less$/,\n          use: [\n            'vue-style-loader',\n            {\n              loader: 'css-loader',\n              options: {\n                importLoaders: 1,\n              },\n            },\n            'postcss-loader',\n            'less-loader',\n          ],\n        },\n        {\n          test: /\\.(png|svg|jpg|jpeg|gif)$/i,\n          type: 'asset/resource',\n          generator: {\n            filename: 'images/[hash][ext][query]',\n          },\n        },\n        {\n          test: /\\.html$/,\n          loader: 'html-loader',\n        },\n      ],\n    },\n    resolve: {\n      extensions: [\n        '.tsx',\n        '.ts',\n        '.mjs',\n        '.js',\n        '.jsx',\n        '.vue',\n        '.json',\n        '.wasm',\n      ],\n      alias: {\n        '@': path.join(__dirname, '../src'),\n      },\n    },\n    plugins: [\n      new MiniCssExtractPlugin({\n        filename: 'css/main.css',\n      }),\n      new OptimizeCssAssetsWebpackPlugin(),\n      new VueLoaderPlugin(),\n      new ForkTsCheckerWebpackPlugin(),\n      new WebpackBar({\n        color: '#85d', // 默认green，进度条颜色支持HEX\n        basic: false, // 默认true，启用一个简单的日志报告器\n        profile: false, // 默认false，启用探查器。\n      }),\n    ],\n  },\n  mergeConfig\n);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br")])]),n("h3",{attrs:{id:"_4-babel配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-babel配置"}},[s._v("#")]),s._v(" 4.babel配置")]),s._v(" "),n("p",[n("code",[s._v("babel.config.js")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n  presets: [\n    '@vue/cli-plugin-babel/preset'\n  ]\n};\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_5-ts配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-ts配置"}},[s._v("#")]),s._v(" 5.ts配置")]),s._v(" "),n("p",[n("code",[s._v("tsconfig.json")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('{\n  "compilerOptions": {\n    "target": "esnext",\n    "module": "esnext",\n    "strict": true,\n    "jsx": "preserve",\n    "moduleResolution": "node",\n    "skipLibCheck": true,\n    "esModuleInterop": true,\n    "allowSyntheticDefaultImports": true,\n    "forceConsistentCasingInFileNames": true,\n    "useDefineForClassFields": true,\n    "noImplicitAny": false,\n    "sourceMap": true,\n    "baseUrl": ".",\n    "types": [\n      "webpack-env"\n    ],\n    "paths": {\n      "@/*": [\n        "src/*"\n      ]\n    },\n    "lib": [\n      "esnext",\n      "dom",\n      "dom.iterable",\n      "scripthost"\n    ]\n  },\n  "include": [\n    "src/**/*.ts",\n    "src/**/*.tsx",\n    "src/**/*.vue",\n    "tests/**/*.ts",\n    "tests/**/*.tsx"\n  ],\n  "exclude": [\n    "node_modules"\n  ]\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br")])]),n("h3",{attrs:{id:"_6-scripts运行命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-scripts运行命令"}},[s._v("#")]),s._v(" 6.scripts运行命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('"scripts": {\n    "dev": "cross-env NODE_ENV=development webpack serve  --config ./script/webpack.config.base.js",\n    "build": "cross-env NODE_ENV=production webpack --config ./script/webpack.config.base.js"\n  },\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"三、需注意的点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三、需注意的点"}},[s._v("#")]),s._v(" 三、需注意的点")]),s._v(" "),n("h3",{attrs:{id:"_1-类型声明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-类型声明"}},[s._v("#")]),s._v(" 1.类型声明")]),s._v(" "),n("p",[n("code",[s._v('因为我们使用了<script lang="ts">')]),s._v("，所以为了ts能够兼容vue文件，我们需要在src"),n("code",[s._v("目录下创建一个shims-vue.d.ts")]),s._v("文件，内容如下")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("declare module '*.vue' {\n  import type { DefineComponent } from 'vue';\n  const component: DefineComponent<{}, {}, any>;\n  export default component;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_2-当style拥有scoped"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-当style拥有scoped"}},[s._v("#")]),s._v(" 2.当style拥有scoped")]),s._v(" "),n("p",[s._v("如果vue文件里面的style使用了scoped，css样式域的写法，"),n("code",[s._v("我们需要将原来的MiniCssExtractPlugin.loader")]),s._v("换成"),n("code",[s._v("vue-style-loader")])]),s._v(" "),n("h3",{attrs:{id:"_3-图片类型的loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-图片类型的loader"}},[s._v("#")]),s._v(" 3.图片类型的loader")]),s._v(" "),n("p",[s._v("图片类型的loader在webpack5已经被内置了，采用"),n("code",[s._v("asset/resource")])]),s._v(" "),n("h3",{attrs:{id:"_4-记得在resolve添加后缀自动补齐的配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-记得在resolve添加后缀自动补齐的配置"}},[s._v("#")]),s._v(" 4.记得在resolve添加后缀自动补齐的配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("extensions: [\n    '.tsx',\n    '.ts',\n    '.mjs',\n    '.js',\n    '.jsx',\n    '.vue',\n    '.json',\n    '.wasm',\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"_5-解析vue文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-解析vue文件"}},[s._v("#")]),s._v(" 5.解析vue文件")]),s._v(" "),n("p",[s._v("解析vue文件除了需要"),n("code",[s._v("vue-loader")]),s._v("之外还需要一个plugin")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("{\n  test: /\\.vue$/,\n  exclude: /node_modules/,\n  loader: 'vue-loader',\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("const { VueLoaderPlugin } = require('vue-loader');\nplugins: [\n\tnew VueLoaderPlugin()\n]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_6-webpack转译typescript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-webpack转译typescript"}},[s._v("#")]),s._v(" 6.webpack转译Typescript")]),s._v(" "),n("p",[s._v("webpack转译Typescript现有方案")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("进程")]),s._v(" "),n("th"),s._v(" "),n("th"),s._v(" "),n("th")])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("单进程方案(类型检查和转译在同一个进程)")]),s._v(" "),n("td",[s._v("ts-loader(transpileOnly为false)")]),s._v(" "),n("td",[s._v("awesome-typescript-loader")]),s._v(" "),n("td")]),s._v(" "),n("tr",[n("td",[s._v("多进程方案")]),s._v(" "),n("td",[s._v("ts-loader(transpileOnly为true) + fork-ts-checker-webpack-plugin")]),s._v(" "),n("td",[s._v("awesome-typescript-loader + 自带的CheckerPlugin")]),s._v(" "),n("td",[s._v("babel + fork-ts-checker-webpack-plugin")])])])]),s._v(" "),n("p",[s._v("综合考虑性能和扩展性，目前比较推荐的是"),n("code",[s._v("babel+fork-ts-checker-webpack-plugin")]),s._v("方案")]),s._v(" "),n("p",[s._v("用实例解释一下吧。")]),s._v(" "),n("p",[s._v("首先是单进程方案：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n  mode: 'development',\n  entry: './src/index.tsx',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'bundle.js',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        use:{\n          loader: 'ts-loader', // ? 单进程，只使用ts-loader进行'转译'和‘类型检查’\n          options: {\n          }\n        }\n      }\n    ]\n  },\n  devServer: {\n    contentBase: './dist',\n    overlay: true,\n  },\n  plugins: [\n    new HtmlWebpackPlugin(),\n  ]\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br")])]),n("p",[s._v("单进程因为是同步所以webpack可以收集错误信息，并通过dev-server反馈到浏览器:")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/automation/webpack/webpack-vue3/1.png")}}),s._v(" "),n("p",[s._v("现在试试多进程方案：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n  mode: 'development',\n  entry: './src/index.tsx',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'bundle.js',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        use:{\n          loader: 'ts-loader',\n          options: {\n            transpileOnly: true  // ? 关闭类型检查，即只进行转译\n          }\n        }\n      }\n    ]\n  },\n  devServer: {\n    contentBase: './dist',\n    overlay: true,\n  },\n  plugins: [\n    new HtmlWebpackPlugin(),\n    new ForkTsCheckerWebpackPlugin({ // ? fork一个进程进行检查，并设置async为false，将错误信息反馈给webpack\n      async: false,\n      eslint: false\n    })\n  ]\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br")])]),n("p",[s._v("Ok，同样可以工作:")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/automation/webpack/webpack-vue3/2.png")}}),s._v(" "),n("p",[s._v("对于babel还是atl，配置方式同理, 只是把ts-loader替换而已。")]),s._v(" "),n("p",[s._v("fork-ts-checker-webpack-plugin，顾名思义就是创建一个新进程，专门来运行Typescript类型检查。这么做的原因是为了利用多核资源来提升编译的速度. 所以大多数CLI都是这样子配置的：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("addLoader({\n      loader: 'ts-loader',\n      options: {\n        // ? 禁用Typescript类型检查，只做转译。这里面速度就可以很快了，因为转译不过是删除掉类型注释。\n        // 现在ts-loader基本已经被babel(babel7支持Typescript)取代了\n        transpileOnly: true,\n        appendTsSuffixTo: ['\\\\.vue$'],\n        // https://github.com/TypeStrong/ts-loader#happypackmode-boolean-defaultfalse\n        happyPackMode: useThreads\n      }\n    })\n    \n    // ...\n          config\n        .plugin('fork-ts-checker')\n          // ? 引进fork-ts-checker-webpack-plugin专门在一个进程中进行类型检查\n          .use(require('fork-ts-checker-webpack-plugin'), [{\n            vue: true,\n            tslint: options.lintOnSave !== false && fs.existsSync(api.resolve('tslint.json')),\n            formatter: 'codeframe',\n            // https://github.com/TypeStrong/ts-loader#happypackmode-boolean-defaultfalse\n            checkSyntacticErrors: useThreads\n          }])\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("因为fork-ts-checker-webpack-plugin是在单独的进程跑的，"),n("strong",[s._v("所以它的错误或警告信息是异步回传给到webpack进程的")]),s._v("。而当webpack自己处理完转译任务后，会将结果同步报告给浏览器去显示。将async设置为false后，就要求webpack等待fork-ts-checker-webpack-plugin进程返回信息。不过这样做也可能会拖慢整个webpack的转译等待时间。这就要看怎么选择了。")]),s._v(" "),n("h3",{attrs:{id:"_7-babel配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-babel配置"}},[s._v("#")]),s._v(" 7.babel配置")]),s._v(" "),n("p",[s._v("用vue-cli创建的vue项目，我们可以发现他在预设里面只有一个预设配置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('module.exports = {\n  presets: ["@vue/cli-plugin-babel/preset"]\n};\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("确实，我们自己搭建的项目只需要用这个就好了，这个里面就集成了包括")]),s._v(" "),n("ul",[n("li",[s._v("@babel/core")]),s._v(" "),n("li",[s._v("@vue/babel-preset-app")]),s._v(" "),n("li",[s._v("babel-loader")]),s._v(" "),n("li",[s._v("thread-loader")])]),s._v(" "),n("p",[s._v("等等，而@vue/babel-preset-app又包含了")]),s._v(" "),n("ul",[n("li",[s._v("@babel/core")]),s._v(" "),n("li",[s._v("@babel/helper-compilation-targets")]),s._v(" "),n("li",[s._v("@babel/helper-module-imports")]),s._v(" "),n("li",[s._v("@babel/plugin-proposal-class-properties")]),s._v(" "),n("li",[s._v("@babel/plugin-proposal-decorators")]),s._v(" "),n("li",[s._v("@babel/plugin-syntax-dynamic-import")]),s._v(" "),n("li",[s._v("@babel/plugin-syntax-jsx")]),s._v(" "),n("li",[s._v("@babel/plugin-transform-runtime")]),s._v(" "),n("li",[s._v("@babel/preset-env")]),s._v(" "),n("li",[s._v("@babel/runtime")]),s._v(" "),n("li",[s._v("@vue/babel-plugin-jsx")]),s._v(" "),n("li",[s._v("@vue/babel-preset-jsx")]),s._v(" "),n("li",[s._v("babel-plugin-dynamic-import-node")]),s._v(" "),n("li",[s._v("core-js")]),s._v(" "),n("li",[s._v("core-js-compat")])]),s._v(" "),n("p",[s._v("其实我们大概可以猜到，这个预设已经把@babel/preset-env都给配置好了。")]),s._v(" "),n("p",[s._v("一开始想在vue里面用jsx的写法，查了很多资料都说用 @vue/babel-preset-jsx，还有的说用@vue/babel-plugin-jsx，害得我是一顿配置，其实不用配置了，@vue/cli-plugin-babel/preset里面都有。至于上面的@vue/babel-preset-jsx是用来干嘛的？")]),s._v(" "),n("h3",{attrs:{id:"_8-vue-babel-preset-jsx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-vue-babel-preset-jsx"}},[s._v("#")]),s._v(" 8.@vue/babel-preset-jsx")]),s._v(" "),n("p",[s._v("Vue JSX 插件的可配置预设。")]),s._v(" "),n("p",[s._v("此 repo 仅与 Babel 7.x 兼容，对于 6.x，请使用"),n("a",{attrs:{href:"https://github.com/vuejs/babel-plugin-transform-vue-jsx",target:"_blank",rel:"noopener noreferrer"}},[s._v("vuejs/babel-plugin-transform-vue-jsx"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("用法：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("module.exports = {\n  presets: [\n    [\n      '@vue/babel-preset-jsx',\n      {\n        vModel: false,\n        compositionAPI: true,\n      },\n    ],\n  ],\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("参数说明：")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("compositionAPI")]),s._v("- Enables @vue/babel-sugar-composition-api-inject-h and @vue/babel-sugar-composition-api-render-instance, support returning render function in "),n("code",[s._v("setup")]),s._v(".\n"),n("ul",[n("li",[s._v("The default value is "),n("code",[s._v("false")]),s._v(";")]),s._v(" "),n("li",[s._v("When set to "),n("code",[s._v("'auto'")]),s._v(" (or "),n("code",[s._v("true")]),s._v("), it will detect the Vue version in the project. If it's >= 2.7, it will import the composition utilities from "),n("code",[s._v("vue")]),s._v(", otherwise from "),n("code",[s._v("@vue/composition-api")]),s._v(";")]),s._v(" "),n("li",[s._v("When set to "),n("code",[s._v("'native'")]),s._v(" (or "),n("code",[s._v("'naruto'")]),s._v("), it will always import the composition utilities from "),n("code",[s._v("vue")])]),s._v(" "),n("li",[s._v("When set to "),n("code",[s._v("plugin")]),s._v(", it will always import the composition utilities from "),n("code",[s._v("@vue/composition-api")]),s._v(", but it will redirect to "),n("code",[s._v("'vue'")]),s._v(" itself when the vue version is "),n("code",[s._v("2.7.x")])]),s._v(" "),n("li",[s._v("When set to "),n("code",[s._v("vue-demi")]),s._v(", it will always import the composition utilities from "),n("code",[s._v("vue-demi")])]),s._v(" "),n("li",[s._v("When set to an object like "),n("code",[s._v("{ importSource: string; }")]),s._v(", it will always import the composition utilities from the importSource you set")])])]),s._v(" "),n("li",[n("code",[s._v("functional")]),s._v(" "),n("a",{attrs:{href:"https://npmmirror.com/package/@vue/babel-preset-jsx",target:"_blank",rel:"noopener noreferrer"}},[s._v("@vue/babel-sugar-functional-vue"),n("OutboundLink")],1),s._v(" - Functional components syntactic sugar")]),s._v(" "),n("li",[n("code",[s._v("injectH")]),s._v(" "),n("a",{attrs:{href:"https://npmmirror.com/package/@vue/babel-preset-jsx",target:"_blank",rel:"noopener noreferrer"}},[s._v("@vue/babel-sugar-inject-h"),n("OutboundLink")],1),s._v(" - Automatic "),n("code",[s._v("h")]),s._v(" injection syntactic sugar")]),s._v(" "),n("li",[n("code",[s._v("vModel")]),s._v(" "),n("a",{attrs:{href:"https://npmmirror.com/package/@vue/babel-preset-jsx",target:"_blank",rel:"noopener noreferrer"}},[s._v("@vue/babel-sugar-v-model"),n("OutboundLink")],1),s._v(" - "),n("code",[s._v("vModel")]),s._v(" syntactic sugar")]),s._v(" "),n("li",[n("code",[s._v("vOn")]),s._v(" "),n("a",{attrs:{href:"https://npmmirror.com/package/@vue/babel-preset-jsx",target:"_blank",rel:"noopener noreferrer"}},[s._v("@vue/babel-sugar-v-on"),n("OutboundLink")],1),s._v(" - "),n("code",[s._v("vOn")]),s._v(" syntactic sugar")])])])}),[],!1,null,null,null);n.default=t.exports}}]);