import{_ as s,c as n,o as a,h as e}from"./app.ccee9938.js";const h=JSON.parse('{"title":"\u5B9E\u73B0\u4E00\u4E2A\u7B80\u5355\u7684rollup","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4E00\u3001\u524D\u7F6E\u77E5\u8BC6","slug":"\u4E00\u3001\u524D\u7F6E\u77E5\u8BC6","link":"#\u4E00\u3001\u524D\u7F6E\u77E5\u8BC6","children":[{"level":3,"title":"1.\u6D89\u53CA\u5230\u7684\u5E93","slug":"_1-\u6D89\u53CA\u5230\u7684\u5E93","link":"#_1-\u6D89\u53CA\u5230\u7684\u5E93","children":[]},{"level":3,"title":"2.magic-string","slug":"_2-magic-string","link":"#_2-magic-string","children":[]},{"level":3,"title":"3.AST","slug":"_3-ast","link":"#_3-ast","children":[]},{"level":3,"title":"4.\u4F5C\u7528\u57DF","slug":"_4-\u4F5C\u7528\u57DF","link":"#_4-\u4F5C\u7528\u57DF","children":[]},{"level":3,"title":"5.scope.js","slug":"_5-scope-js","link":"#_5-scope-js","children":[]}]}],"relativePath":"blogs/automation/rollup/source-code.md","lastUpdated":1714836224000}'),l={name:"blogs/automation/rollup/source-code.md"},r=e(`<h1 id="\u5B9E\u73B0\u4E00\u4E2A\u7B80\u5355\u7684rollup" tabindex="-1">\u5B9E\u73B0\u4E00\u4E2A\u7B80\u5355\u7684rollup <a class="header-anchor" href="#\u5B9E\u73B0\u4E00\u4E2A\u7B80\u5355\u7684rollup" aria-hidden="true">#</a></h1><h2 id="\u4E00\u3001\u524D\u7F6E\u77E5\u8BC6" tabindex="-1">\u4E00\u3001\u524D\u7F6E\u77E5\u8BC6 <a class="header-anchor" href="#\u4E00\u3001\u524D\u7F6E\u77E5\u8BC6" aria-hidden="true">#</a></h2><h3 id="_1-\u6D89\u53CA\u5230\u7684\u5E93" tabindex="-1">1.\u6D89\u53CA\u5230\u7684\u5E93 <a class="header-anchor" href="#_1-\u6D89\u53CA\u5230\u7684\u5E93" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">magic-string</span></span>
<span class="line"><span style="color:#A6ACCD;">acron</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-magic-string" tabindex="-1">2.magic-string <a class="header-anchor" href="#_2-magic-string" aria-hidden="true">#</a></h3><p>Magic-string\u662F\u4E00\u4E2A\u64CD\u4F5C\u5B57\u7B26\u4E32\u548C\u751F\u6210source-map\u7684\u5DE5\u5177</p><div class="language- line-numbers-mode"><button class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">var MagicString = require(&#39;magic-string&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">var magicString = new MagicString(&quot;export var name = &#39;nangxi&#39;&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u8FD4\u56DEmagicString\u7684\u514B\u9686\uFF0C\u5220\u9664\u539F\u59CB\u5B57\u7B26\u4E32\u5F00\u5934\u548C\u7ED3\u5C3E\u5B57\u7B26\u4E4B\u524D\u7684\u6240\u6709\u5185\u5BB9\uFF0C\u622A\u53D60-6\u7684\u5B57\u7B26\uFF0C\u7C7B\u4F3C\u4E8EsubString</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(magicString.snip(0,6).toString());</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u4ECE\u5F00\u59CB\u5230\u7ED3\u675F\u5220\u9664\u5B57\u7B26\uFF0C\u5220\u96640-7\u7684\u5B57\u7B26</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(magicString.remove(0,7).toString());</span></span>
<span class="line"><span style="color:#A6ACCD;">// \u4F7F\u7528MagicString.Bundle\u53EF\u4EE5\u8054\u5408\u591A\u4E2A\u6E90\u4EE3\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">let bundleString = new MagicString.Bundle();</span></span>
<span class="line"><span style="color:#A6ACCD;">bundleString.addSource({</span></span>
<span class="line"><span style="color:#A6ACCD;">	content: &#39;var a = 1;&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">	separator: &#39;\\n&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;">bundleString.addSource({</span></span>
<span class="line"><span style="color:#A6ACCD;">	content: &#39;var b = 2;&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">	separator: &#39;\\n&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;">console.log(bundleString.toString());</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_3-ast" tabindex="-1">3.AST <a class="header-anchor" href="#_3-ast" aria-hidden="true">#</a></h3><p>\u901A\u8FC7Javascript Parser\uFF08Acron\uFF09\u53EF\u4EE5\u628A\u4EE3\u7801\u8F6C\u5316\u4E3A\u4E00\u68F5\u62BD\u8C61\u8BED\u6CD5\u6811AST\uFF0C\u8FD9\u68F5\u6811\u5B9A\u4E49\u4E86\u4EE3\u7801\u7684\u7ED3\u6784\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7CBE\u51C6\u5B9A\u4F4D\u5230\u58F0\u660E\u8BED\u53E5\uFF0C\u8D4B\u503C\u8BED\u53E5\uFF0C\u8FD0\u7B97\u8BED\u53E5\u7B49\u7B49\uFF0C\u5B9E\u73B0\u5BF9\u4EE3\u7801\u7684\u5206\u6790\u3001\u4F18\u5316\u548C\u53D8\u66F4\u7B49\u64CD\u4F5C\u3002</p><p>AST\u5DE5\u4F5C\u6D41</p><ul><li>Parsse\uFF08\u89E3\u6790\uFF09\u5C06\u6E90\u4EE3\u7801\u8F6C\u6362\u6210\u62BD\u8C61\u8BED\u6CD5\u6811\uFF0C\u6811\u4E0A\u6709\u5F88\u591A\u7684estree\u8282\u70B9</li><li>Transform\uFF08\u8F6C\u6362\uFF09\u5BF9\u62BD\u8C61\u8BED\u6CD5\u6811\u8FDB\u884C\u8F6C\u6362</li><li>Generate\uFF08\u4EE3\u7801\u751F\u6210\uFF09\u5C06\u4E0A\u4E00\u6B65\u7ECF\u8FC7\u8F6C\u6362\u7684\u62BD\u8C61\u8BED\u6CD5\u6811\u751F\u6210\u65B0\u7684\u4EE3\u7801</li></ul><h3 id="_4-\u4F5C\u7528\u57DF" tabindex="-1">4.\u4F5C\u7528\u57DF <a class="header-anchor" href="#_4-\u4F5C\u7528\u57DF" aria-hidden="true">#</a></h3><ul><li>\u5728js\u4E2D\uFF0C\u4F5C\u7528\u57DF\u662F\u7528\u6765\u89C4\u5B9A\u53D8\u91CF\u8BBF\u95EE\u8303\u56F4\u7684\u89C4\u5219</li><li>\u4F5C\u7528\u57DF\u94FE\u662F\u7531\u5F53\u524D\u6267\u884C\u73AF\u5883\u4E0E\u4E0A\u5C42\u6267\u884C\u73AF\u5883\u7684\u4E00\u7CFB\u5217\u53D8\u91CF\u5BF9\u8C61\u7EC4\u6210\u7684\uFF0C\u5B83\u4FDD\u8BC1\u4E86\u5F53\u524D\u6267\u884C\u73AF\u5883\u5BF9\u7B26\u5408\u8BBF\u95EE\u6743\u9650\u7684\u53D8\u91CF\u548C\u51FD\u6570\u7684\u6709\u5E8F\u8BBF\u95EE</li></ul><h3 id="_5-scope-js" tabindex="-1">5.scope.js <a class="header-anchor" href="#_5-scope-js" aria-hidden="true">#</a></h3>`,14),p=[r];function i(c,t,o,d,u,b){return a(),n("div",null,p)}const m=s(l,[["render",i]]);export{h as __pageData,m as default};
